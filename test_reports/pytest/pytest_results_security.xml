<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="3" skipped="0" tests="16" time="2.842" timestamp="2026-02-19T22:38:39.620699+00:00" hostname="agent-env-e73da2e2-ac3e-48e4-9f9c-cc6a65d2999c"><testcase classname="tests.test_security_audit.TestAuthentication" name="test_register_new_user" time="0.470"><failure message="AssertionError: Invalid response: {'email': 'test_user_859a43c3@test.com', 'name': 'Test User', 'role': 'ecommerce', 'picture': None, 'language': 'fr', 'theme': 'light', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', 'current_plan': 'free', 'plan_expires_at': None, 'subscription_id': None, 'created_at': '2026-02-19T22:38:40.127266Z'}&#10;assert ('user' in {'created_at': '2026-02-19T22:38:40.127266Z', 'current_plan': 'free', 'email': 'test_user_859a43c3@test.com', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', ...} or 'token' in {'created_at': '2026-02-19T22:38:40.127266Z', 'current_plan': 'free', 'email': 'test_user_859a43c3@test.com', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', ...} or 'access_token' in {'created_at': '2026-02-19T22:38:40.127266Z', 'current_plan': 'free', 'email': 'test_user_859a43c3@test.com', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', ...})">tests/test_security_audit.py:68: in test_register_new_user
    assert "user" in data or "token" in data or "access_token" in data, f"Invalid response: {data}"
E   AssertionError: Invalid response: {'email': 'test_user_859a43c3@test.com', 'name': 'Test User', 'role': 'ecommerce', 'picture': None, 'language': 'fr', 'theme': 'light', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', 'current_plan': 'free', 'plan_expires_at': None, 'subscription_id': None, 'created_at': '2026-02-19T22:38:40.127266Z'}
E   assert ('user' in {'created_at': '2026-02-19T22:38:40.127266Z', 'current_plan': 'free', 'email': 'test_user_859a43c3@test.com', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', ...} or 'token' in {'created_at': '2026-02-19T22:38:40.127266Z', 'current_plan': 'free', 'email': 'test_user_859a43c3@test.com', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', ...} or 'access_token' in {'created_at': '2026-02-19T22:38:40.127266Z', 'current_plan': 'free', 'email': 'test_user_859a43c3@test.com', 'id': 'fb7c20dd-a42f-4b46-b410-575624b6509b', ...})</failure></testcase><testcase classname="tests.test_security_audit.TestAuthentication" name="test_login_with_registered_user" time="0.152" /><testcase classname="tests.test_security_audit.TestAuthentication" name="test_login_admin" time="0.190" /><testcase classname="tests.test_security_audit.TestAIBrainEndpoints" name="test_ai_brain_status" time="0.215"><failure message="AssertionError: API key leaked in response!&#10;assert 'gsk_' not in '{&quot;enabled&quot;:...sk_nfjt...&quot;}'&#10;  &#10;  'gsk_' is contained here:&#10;    {&quot;enabled&quot;:true,&quot;provider&quot;:&quot;groq&quot;,&quot;model&quot;:&quot;llama-3.3-70b-versatile&quot;,&quot;is_live&quot;:true,&quot;has_api_key&quot;:true,&quot;agents&quot;:[{&quot;id&quot;:&quot;logistician&quot;,&quot;name&quot;:&quot;le logisticien&quot;,&quot;model_hint&quot;:&quot;qwen 2.5&quot;,&quot;icon&quot;:&quot;truck&quot;,&quot;color&quot;:&quot;#3b82f6&quot;,&quot;description&quot;:&quot;optimisation des routes, packaging et capacité entrepôt&quot;,&quot;system_prompt&quot;:&quot;tu es un senior logistics analyst chez beyond express, expert en optimisation de stock, routage de livraisons et analyse opérationnelle pour le marché algérien (58 wilayas). tu fournis des recommandations chiffrées, actionnables et en français. tu connais les spécifici...&#10;  &#10;  ...Full output truncated (2 lines hidden), use '-vv' to show">tests/test_security_audit.py:112: in test_ai_brain_status
    assert "gsk_" not in response_text, "API key leaked in response!"
E   AssertionError: API key leaked in response!
E   assert 'gsk_' not in '{"enabled":...sk_nfjt..."}'
E     
E     'gsk_' is contained here:
E       {"enabled":true,"provider":"groq","model":"llama-3.3-70b-versatile","is_live":true,"has_api_key":true,"agents":[{"id":"logistician","name":"le logisticien","model_hint":"qwen 2.5","icon":"truck","color":"#3b82f6","description":"optimisation des routes, packaging et capacité entrepôt","system_prompt":"tu es un senior logistics analyst chez beyond express, expert en optimisation de stock, routage de livraisons et analyse opérationnelle pour le marché algérien (58 wilayas). tu fournis des recommandations chiffrées, actionnables et en français. tu connais les spécifici...
E     
E     ...Full output truncated (2 lines hidden), use '-vv' to show</failure></testcase><testcase classname="tests.test_security_audit.TestAIBrainEndpoints" name="test_ai_brain_query" time="0.300" /><testcase classname="tests.test_security_audit.TestAIBrainEndpoints" name="test_ai_brain_query_analyst" time="0.170" /><testcase classname="tests.test_security_audit.TestAIBrainEndpoints" name="test_ai_brain_query_monitor" time="0.197" /><testcase classname="tests.test_security_audit.TestWhatsAppMetaEndpoints" name="test_whatsapp_status" time="0.098" /><testcase classname="tests.test_security_audit.TestWhatsAppMetaEndpoints" name="test_whatsapp_templates" time="0.094" /><testcase classname="tests.test_security_audit.TestWhatsAppMetaEndpoints" name="test_whatsapp_logs" time="0.093" /><testcase classname="tests.test_security_audit.TestDashboardEndpoints" name="test_dashboard_stats" time="0.096" /><testcase classname="tests.test_security_audit.TestDashboardEndpoints" name="test_dashboard_orders_by_status" time="0.101" /><testcase classname="tests.test_security_audit.TestDashboardEndpoints" name="test_dashboard_revenue_evolution" time="0.106" /><testcase classname="tests.test_security_audit.TestSecurityNoAPIKeysExposed" name="test_no_groq_key_in_ai_brain_status" time="0.223"><failure message="AssertionError: Groq API key pattern found in response!&#10;assert 'gsk_' not in '{&quot;enabled&quot;:...sk_nfjt...&quot;}'&#10;  &#10;  'gsk_' is contained here:&#10;    {&quot;enabled&quot;:true,&quot;provider&quot;:&quot;groq&quot;,&quot;model&quot;:&quot;llama-3.3-70b-versatile&quot;,&quot;is_live&quot;:true,&quot;has_api_key&quot;:true,&quot;agents&quot;:[{&quot;id&quot;:&quot;logistician&quot;,&quot;name&quot;:&quot;le logisticien&quot;,&quot;model_hint&quot;:&quot;qwen 2.5&quot;,&quot;icon&quot;:&quot;truck&quot;,&quot;color&quot;:&quot;#3b82f6&quot;,&quot;description&quot;:&quot;optimisation des routes, packaging et capacité entrepôt&quot;,&quot;system_prompt&quot;:&quot;tu es un senior logistics analyst chez beyond express, expert en optimisation de stock, routage de livraisons et analyse opérationnelle pour le marché algérien (58 wilayas). tu fournis des recommandations chiffrées, actionnables et en français. tu connais les spécifici...&#10;  &#10;  ...Full output truncated (2 lines hidden), use '-vv' to show">tests/test_security_audit.py:234: in test_no_groq_key_in_ai_brain_status
    assert "gsk_" not in response_text, "Groq API key pattern found in response!"
E   AssertionError: Groq API key pattern found in response!
E   assert 'gsk_' not in '{"enabled":...sk_nfjt..."}'
E     
E     'gsk_' is contained here:
E       {"enabled":true,"provider":"groq","model":"llama-3.3-70b-versatile","is_live":true,"has_api_key":true,"agents":[{"id":"logistician","name":"le logisticien","model_hint":"qwen 2.5","icon":"truck","color":"#3b82f6","description":"optimisation des routes, packaging et capacité entrepôt","system_prompt":"tu es un senior logistics analyst chez beyond express, expert en optimisation de stock, routage de livraisons et analyse opérationnelle pour le marché algérien (58 wilayas). tu fournis des recommandations chiffrées, actionnables et en français. tu connais les spécifici...
E     
E     ...Full output truncated (2 lines hidden), use '-vv' to show</failure></testcase><testcase classname="tests.test_security_audit.TestSecurityNoAPIKeysExposed" name="test_no_whatsapp_token_in_status" time="0.088" /><testcase classname="tests.test_security_audit.TestSecurityNoAPIKeysExposed" name="test_no_credentials_in_ai_query_response" time="0.147" /></testsuite></testsuites>